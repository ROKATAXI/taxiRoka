{% extends 'base.html' %}
{% load static %}


{% block title %}
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
{% endblock %}

{% block content %}

<div class="logo-container">
    <img src="{% static 'img/loginlogo_.png' %}" alt="로고 사진">

    <div class="mypage-banner">
        <img src="{% static 'img/banner_mypage.png' %}" alt="배너사진">
    </div>
</div>


<div class="mypage-container">

    <div class="profile-top-container">
        <div class="profile-picture">
            <img src="{% static 'img/mypage2.png' %}" alt="프로필 사진">
        </div>
        <div class="profile-info">
            <div class="profile-name">
                <h1>{{user.username}}</h1>
            </div>
            <div class="profile-intro">
                <p>{{user.location}}</p>
            </div>
        </div>
    </div>
        

    <div class="profile-info-container">
        <div class="profile-info">
            <div class="info-row">
                <div class="info-label">이름:</div>
                <div class="info-value">&nbsp;&nbsp;{{user.first_name}}</div>
            </div>
            <div class="info-row">
                <div class="info-label">이메일:</div>
                <div class="info-value">&nbsp;&nbsp;{{user.username}}</div>
            </div>
           
            <div class="info-row">
                <div class="info-label">전화번호:</div>
                <div class="info-value">&nbsp;&nbsp;{{user.phone}}</div>
            </div>
            <div class="info-row">
                <div class="info-label">부대위치:</div>
                <div class="info-value">&nbsp;&nbsp;{{user.location}}</div>
            </div>
        </div>
    </div>
    
    
    <div class="section">
        <h2>매칭 이력</h2>
        <div class="match-history">
            <div class="match-status">
                <h3>전체</h3>
                <p class="match-count">{{matching_all}}</p>
               
            </div>
            <div class="match-status">
                <h3>예정</h3>
                <p class="match-count-reservation">{{matching_ing}}</p>
               
            </div>
            <div class="match-status">
                <h3>완료</h3>
                <p class="match-count">{{matching_end}}</p>
               
            </div>
        </div>
    </div>
    
    <div class="section">
        <h2>휴가 이력</h2>
        <div class="vacation-history">
            {% if vacations|length != 0 %}
            {% for vacation in vacations %}
            <div class="vacation-status">
                <div class="vacation-departure">
                    <div class="vacation-label"><h3>휴가 신청일</h3></div>
                    <div class="vacation-content">{{ vacation.departure_date }}</div>
                </div>                 
                <div class="vacation-arrow">
                    <img src="{% static 'img/arrow_right2.png' %}" alt="화살표">
                </div>
                <div class="vacation-arrival">
                    <div class="vacation-label"><h3>휴가 복귀일</h3></div>
                    <div class="vacation-content">{{ vacation.arrival_date }}</div>
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div class="vacation-status">
                <h3>등록된 휴가 일정이 없습니다.</h3> 
                <h3>휴가 복귀일: {{ vacation.arrival_date }}</h3>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="profile-actions">
        <a href="{% url 'user:modify' %}">
        <button class="edit-profile-button">회원정보 수정</button>
        </a>
        <a href="{% url 'user:logout' %}">
        <button class="logout-button">&nbsp;&nbsp;&nbsp;&nbsp;로그아웃&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>
        </a>
    </div>
</div>
 
<!-- 수정    
<div class="mypage-container">
    <div class="mypage-banner">
        <img src="{% static 'img/banner_mypage.png' %}" alt="배너사진">
    </div>
    <div class="mypage-content">
        <div class="profile-img">
            <img src="{% static 'img/army_tag.png' %}" alt="프로필사진">
        </div>
        <div class="profile-content">
            <div class="user-name">
                {{user.first_name}}
            </div>            
            <div class="user-location">
                {{user.location}}
            </div>
            <div class="user-detail-info">
                <div class="user-detail-label">
                    <div class="user-email-label">이메일:</div>
                    <div class="user-phone-label">전화번호:</div>
                </div>
                <div class="user-detail-content">
                    <div class="user-email-content">{{user.email}}</div>
                    <div class="user-phone-content">{{user.phone}}</div>
                </div>
            </div>
        </div>
    </div>
    <div class="section">
        <h2>휴가 이력</h2>
        <div class="vacation-history">
            {% if vacations|length != 0 %}
            {% for vacation in vacations %}
            <div class="vacation-status">
                <div class="vacation-departure">
                    <div class="vacation-label"><h3>휴가 신청일</h3></div>
                    <div class="vacation-content">{{ vacation.departure_date }}</div>
                </div>                 
                <div class="vacation-arrow">
                    <img src="{% static 'img/arrow_right2.png' %}" alt="화살표">
                </div>
                <div class="vacation-arrival">
                    <div class="vacation-label"><h3>휴가 복귀일</h3></div>
                    <div class="vacation-content">{{ vacation.arrival_date }}</div>
                </div>
            </div>
            {% endfor %}
            {% else %}
            <div class="vacation-status">
                <h3>등록된 휴가 일정이 없습니다.</h3> 
                <h3>휴가 복귀일: {{ vacation.arrival_date }}</h3>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="profile-actions">
        <a href="{% url 'user:modify' %}">
        <button class="edit-profile-button">회원정보 수정</button>
        </a>
        <a href="{% url 'user:logout' %}">
        <button class="logout-button">&nbsp;&nbsp;&nbsp;&nbsp;로그아웃&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</button>
        </a>
    </div>
</div>
  

-->
{% endblock %}

